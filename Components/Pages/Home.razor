@page "/"
@using ApplicationsHelper
@inject NavigationManager Navigation
@inject DatabaseHelper DatabaseHelper


<h1>Enter Applications Here</h1>


<EditForm   Model="@newApplication" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="d-flex justify-content-start">
        <label for="companyName" class="fixed-width-label">Company Name:</label>
        <InputText class="ms-4" id="companyName" @bind-Value="newApplication.CompanyName" />
    </div>
    <div class="d-flex justify-content-start">
        <label for="contactName" class="fixed-width-label">Contact Name:</label>
        <InputText class="ms-4" id="contactName" @bind-Value="newApplication.ContactName" />
    </div>
    <div class="d-flex justify-content-start">
        <label for="dateApplied">Date Applied:</label>
        <InputDate id="dateApplied" @bind-Value="newApplication.DateApplied" />
    </div >
    <div class="d-flex justify-content-start">
        <label for="followUp">Follow Up:</label>
        <InputDate id="followUp" @bind-Value="newApplication.FollowUp" />
    </div>
    <div class="d-flex justify-content-start">
        <label for="phoneNumber">Phone Number:</label>
        <InputText id="phoneNumber" @bind-Value="newApplication.PhoneNumber" />
    </div>
    <div class="d-flex justify-content-start">
        <label for="disposition">Disposition:</label>
        <InputText id="disposition" @bind-Value="newApplication.Disposition" />
    </div>
    <div class="d-flex justify-content-start">
        <label for="notes">Notes:</label>
        <InputTextArea id="notes" @bind-Value="newApplication.Notes" />
    </div>
    <div class="d-flex justify-content-center">
        <button type="submit">Submit</button>
    </div>
</EditForm>

@code {
    private Applications newApplication = new Applications();
    private void HandleValidSubmit()
    {
        DatabaseHelper.AddApplication(newApplication);
        Navigation.NavigateTo("/");
    }
}